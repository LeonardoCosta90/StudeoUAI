{"version":3,"sources":["/home/leo/Documentos/projetos/mine/TCC/StudeoUAI/backend/studeouai-api/src/modules/accounts/typeorm/entities/User.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import { Expose } from 'class-transformer';\nimport { Column, CreateDateColumn, Entity, PrimaryColumn } from 'typeorm';\nimport { v4 as uuidV4 } from 'uuid';\n\n@Entity('userss')\nclass User {\n  @PrimaryColumn()\n  id: string;\n\n  @Column()\n  name: string;\n\n  @Column()\n  password: string;\n\n  @Column()\n  email: string;\n\n  @Column()\n  isAdmin: boolean;\n\n  @Column({ nullable: true })\n  avatar: string;\n\n  @CreateDateColumn({ select: false })\n  created_at: Date;\n\n  @Expose({ name: 'avatar_url' })\n  avatar_url(): string {\n    switch (process.env.STORAGE_TYPE) {\n      case 'local':\n        return `${process.env.APP_API_URL}/avatar/${this.avatar}`;\n      case 's3':\n        return `${process.env.AWS_BUCKET_URL}/avatar/${this.avatar}`;\n      default:\n        return null;\n    }\n  }\n\n  constructor() {\n    if (!this.id) {\n      this.id = uuidV4();\n    }\n  }\n}\n\nexport { User };\n"]}